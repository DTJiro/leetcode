##### æ€è·¯

ä¸Šä¸€é¢˜ï¼Œæˆ‘ä»¬è®¡ç®—å‡ºäº†æ¯ä¸ªç©å®¶æ˜¯é¦–æ¬¡ç™»é™†æ—¥æœŸï¼Œè¿™å›æˆ‘ä»¬è¦æ ¹æ®é¦–æ¬¡ç™»é™†æ—¥æœŸï¼Œå†å»å¯»æ‰¾å¯¹åº”çš„è®¾å¤‡åç§°ï¼Œé‚£ä¹ˆè·Ÿç€ä¸Šé¢˜æ€è·¯ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨**å­æŸ¥è¯¢ where in çš„è”åˆåŒ¹é…**ã€‚

å¦‚æœæŠ›å¼€ä¸Šä¸€é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**çª—å£å‡½æ•°æ’åº**ï¼Œç„¶ååˆ©ç”¨æ’åºä½œä¸ºç­›é€‰æ¡ä»¶ã€‚

##### ç®—æ³•

1. ä¸ç”¨çª—å£ï¼šåŒ¹é…`(player_id, event_date)`æ˜¯å¦åœ¨æ¯ä¸€ä¸ªç©å®¶çš„é¦–æ¬¡ç™»é™†æ—¥æœŸä¸­
2. ç”¨çª—å£ï¼šå…ˆæŒ‰æ—¶é—´æ’å€’åºï¼Œå†åˆ©ç”¨æ’åº`rnk=1`ç­›é€‰

##### ç­”æ¡ˆ

1. ä¸ç”¨çª—å£å‡½æ•°ï¼Œä½¿ç”¨è”åˆé”®å­æŸ¥è¯¢ where in ç­›é€‰

* sql

```sql
select 
	player_id, device_id
from activity
where (player_id, event_date) in 
(
    select player_id, min(event_date)
	from activity
	group by player_id
)
```

* sql

```sql
# è¿™æ ·æ˜¯ä¸è¡Œçš„ï¼
# å¿…é¡»ç”¨è”åˆé”®æ¥åŒ¹é…
select 
	player_id, device_id
from activity
where event_date in 
(
    select min(event_date)
	from activity
	group by player_id
)
```

âœï¸å°æŠ€å·§ï¼š

![image.png](https://pic.leetcode-cn.com/1651745557-JqFxKG-image.png)

2. çª—å£

* sql

```sql
select 
	player_id, device_id
from 
(
    select 
    	player_id, 
    	device_id, 
    	dense_rank() over(partition by player_id 
                          order by event_date asc) rnk 
   	from activity
) a where rnk=1
```

ğŸ¥°è§‰å¾—è¿˜ä¸é”™çš„è¯ï¼Œç‚¹ä¸ªèµï¼ŒåŠ ä¸ªå…³æ³¨å§~ğŸ¥°

