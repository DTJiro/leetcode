<p><code>Product</code> è¡¨ï¼š</p>

<pre>
+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| product_id  | int     |
| name        | varchar |
+-------------+---------+
product_id æ˜¯è¿™å¼ è¡¨çš„ä¸»é”®
è¡¨ä¸­å«æœ‰äº§å“ id ã€äº§å“åç§°ã€‚äº§å“åç§°éƒ½æ˜¯å°å†™çš„è‹±æ–‡å­—æ¯ï¼Œäº§å“åç§°éƒ½æ˜¯å”¯ä¸€çš„
</pre>

<p><code>Invoice </code>è¡¨ï¼š</p>

<pre>
+-------------+------+
| Column Name | Type |
+-------------+------+
| invoice_id  | int  |
| product_id  | int  |
| rest        | int  |
| paid        | int  |
| canceled    | int  |
| refunded    | int  |
+-------------+------+
invoice_id å‘ç¥¨ id ï¼Œæ˜¯è¿™å¼ è¡¨çš„ä¸»é”®
product_id äº§å“ id
rest åº”ç¼´æ¬¾é¡¹
paid å·²æ”¯ä»˜é‡‘é¢
canceled å·²å–æ¶ˆé‡‘é¢
refunded å·²é€€æ¬¾é‡‘é¢
</pre>

<p>&nbsp;</p>

<p>è¦æ±‚å†™ä¸€ä¸ªSQLæŸ¥è¯¢ï¼Œå¯¹äºæ‰€æœ‰äº§å“ï¼Œè¿”å›æ¯ä¸ªäº§å“çš„äº§å“åç§°ï¼Œä»¥åŠå…¨éƒ¨å‘ç¥¨ç´¯è®¡çš„æ€»åº”ç¼´æ¬¾é¡¹ã€æ€»å·²æ”¯ä»˜é‡‘é¢ã€æ€»å·²å–æ¶ˆé‡‘é¢ã€æ€»å·²é€€æ¬¾é‡‘é¢ã€‚</p>

<p>æŸ¥è¯¢ç»“æœæŒ‰ <code>product_name</code> æ’åº</p>

<p>ç¤ºä¾‹ï¼š</p>

<pre>
Product è¡¨ï¼š
+------------+-------+
| product_id | name  |
+------------+-------+
| 0          | ham   |
| 1          | bacon |
+------------+-------+
Invoice table:
+------------+------------+------+------+----------+----------+
| invoice_id | product_id | rest | paid | canceled | refunded |
+------------+------------+------+------+----------+----------+
| 23         | 0          | 2    | 0    | 5        | 0        |
| 12         | 0          | 0    | 4    | 0        | 3        |
| 1          | 1          | 1    | 1    | 0        | 1        |
| 2          | 1          | 1    | 0    | 1        | 1        |
| 3          | 1          | 0    | 1    | 1        | 1        |
| 4          | 1          | 1    | 1    | 1        | 0        |
+------------+------------+------+------+----------+----------+
Result è¡¨ï¼š
+-------+------+------+----------+----------+
| name  | rest | paid | canceled | refunded |
+-------+------+------+----------+----------+
| bacon | 3    | 3    | 3        | 3        |
| ham   | 2    | 4    | 5        | 3        |
+-------+------+------+----------+----------+
- bacon çš„æ€»åº”ç¼´æ¬¾é¡¹ä¸º 1 + 1 + 0 + 1 = 3
- bacon çš„æ€»å·²æ”¯ä»˜é‡‘é¢ä¸º 1 + 0 + 1 + 1 = 3
- bacon çš„æ€»å·²å–æ¶ˆé‡‘é¢ä¸º 0 + 1 + 1 + 1 = 3
- bacon çš„æ€»å·²é€€æ¬¾é‡‘é¢ä¸º 1 + 1 + 1 + 0 = 3
- ham çš„æ€»åº”ç¼´æ¬¾é¡¹ä¸º 2 + 0 = 2
- ham çš„æ€»å·²æ”¯ä»˜é‡‘é¢ä¸º 0 + 4 = 4
- ham çš„æ€»å·²å–æ¶ˆé‡‘é¢ä¸º 5 + 0 = 5
- ham çš„æ€»å·²é€€æ¬¾é‡‘é¢ä¸º 0 + 3 = 3
</pre>

<div><div>Related Topics</div><div><li>æ•°æ®åº“</li></div></div><br><div><li>ğŸ‘ 8</li><li>ğŸ‘ 0</li></div>